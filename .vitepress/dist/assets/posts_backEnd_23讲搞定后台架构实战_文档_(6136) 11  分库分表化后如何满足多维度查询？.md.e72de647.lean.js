import{_ as o,j as t,o as e,h as c,k as a,f as s,Q as l,s as p}from"./chunks/framework.d3daa342.js";const T=JSON.parse('{"title":"11 分库分表化后如何满足多维度查询？","description":"","frontmatter":{},"headers":[],"relativePath":"posts/backEnd/23讲搞定后台架构实战_文档/(6136) 11  分库分表化后如何满足多维度查询？.md","filePath":"posts/backEnd/23讲搞定后台架构实战_文档/(6136) 11  分库分表化后如何满足多维度查询？.md","lastUpdated":1696682708000}'),r={name:"posts/backEnd/23讲搞定后台架构实战_文档/(6136) 11  分库分表化后如何满足多维度查询？.md"},E=l("",7),y=l("",7),i=l("",5),u=l("",14),_=l("",7),d=p("p",null,"图 4：基于 Binlog 的 ES 数据异构图",-1),q=p("p",null,"上述异构的数据同步至 ES 时，ES 中的数据结构应该如何设计来满足存储呢？在正式设计前，需要搞明白 ES 中的几个重要概念。接下来将以数据库中的几个概念进行类比，如下表所示：",-1),g=l("",12),F=p("p",null,"图 5：ES 的架构简介",-1),h=p("p",null,[s("可以看到 ES 的架构里没有代理式网关，ES 里所有的节点都可以接受用户的请求。对于类似第二小节里提到的排序+数量查询，"),p("strong",null,"ES 和代理式分库分表的架构比较类似，接受请求的节点并行地去获取所有其他节点，并在该节点里进行集群排序和过滤"),s("，具体流程如下图 6 所示：")],-1),C=l("",11);function A(m,S,b,k,B,D){const n=t("Image");return e(),c("div",null,[E,a(n,{alt:"图片1.png",src:"https://s0.lgstatic.com/i/image6/M00/04/37/Cgp9HWAkHkyAKFg8AAFkDB0-4sQ638.png"}),s(),y,a(n,{alt:"图片2.png",src:"https://s0.lgstatic.com/i/image6/M00/04/34/CioPOWAkHl2AfaSRAADhJcnazpA719.png"}),s(),i,a(n,{alt:"图片3.png",src:"https://s0.lgstatic.com/i/image6/M00/04/38/Cgp9HWAkHm2ATpDXAAEspe_vgos203.png"}),s(),u,a(n,{alt:"图片4.png",src:"https://s0.lgstatic.com/i/image6/M01/04/34/CioPOWAkHoKAWRHwAADZ2-42tQQ277.png"}),s(),_,a(n,{alt:"图片5.png",src:"https://s0.lgstatic.com/i/image6/M01/04/34/CioPOWAkHpOAE89OAAFf5QycYqw885.png"}),s(),d,q,a(n,{alt:"图片6.png",src:"https://s0.lgstatic.com/i/image6/M01/04/38/Cgp9HWAkHqKACcdgAAC4DFSjaRc446.png"}),s(),g,a(n,{alt:"图片7.png",src:"https://s0.lgstatic.com/i/image6/M01/04/38/Cgp9HWAkHreAbjhFAAD3Vc_IZrI124.png"}),s(),F,h,a(n,{alt:"图片8.png",src:"https://s0.lgstatic.com/i/image6/M01/04/34/CioPOWAkHsOAfoQsAAEs2FRHswU641.png"}),s(),C])}const f=o(r,[["render",A]]);export{T as __pageData,f as default};
