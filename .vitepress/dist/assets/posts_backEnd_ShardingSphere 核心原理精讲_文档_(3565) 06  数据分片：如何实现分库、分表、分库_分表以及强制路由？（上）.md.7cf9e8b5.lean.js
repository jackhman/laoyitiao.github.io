import{_ as o,j as e,o as r,g as t,k as l,h as a,Q as p,s}from"./chunks/framework.4e7d56ce.js";const L=JSON.parse('{"title":"06数据分片：如何实现分库、分表、分库+分表以及强制路由？（上）","description":"","frontmatter":{},"headers":[],"relativePath":"posts/backEnd/ShardingSphere 核心原理精讲_文档/(3565) 06  数据分片：如何实现分库、分表、分库+分表以及强制路由？（上）.md","filePath":"posts/backEnd/ShardingSphere 核心原理精讲_文档/(3565) 06  数据分片：如何实现分库、分表、分库+分表以及强制路由？（上）.md","lastUpdated":1696682708000}'),c={name:"posts/backEnd/ShardingSphere 核心原理精讲_文档/(3565) 06  数据分片：如何实现分库、分表、分库+分表以及强制路由？（上）.md"},E=p("",11),i=s("h4",{id:"完成基础功能",tabindex:"-1"},[a("完成基础功能 "),s("a",{class:"header-anchor",href:"#完成基础功能","aria-label":'Permalink to "完成基础功能"'},"​")],-1),y=s("p",null,"既然采用 Mybatis 作为 ORM 框架，那么就需要遵循 Mybatis 的开发流程。首先，我们需要完成各个业务实体的定义：",-1),d=s("p",null,"业务实体的类定义",-1),h=s("p",null,"基于这些业务实体，我们需要完成对应的 Mapper 文件编写，我把这些 Mapper 文件放在代码工程的 resources 目录下：",-1),g=p("",6),_=s("p",null,"Repository 层接口定义",-1),u=s("p",null,"最后，我们设计并实现了相关的三个服务类，分别是 UserService、HealthLevelService 和 HealthRecordService。",-1),F=p("",41),k=s("p",null,"ds0 中 health_record 表数据",-1),A=s("p",null,"ds0 中 health_task 表数据",-1),v=s("p",null,"而这张图是 ds1 中的 health_record 和 health_task 表：",-1),b=s("p",null,"ds1 中 health_record 表数据",-1),D=s("p",null,"ds1 中 health_task 表数据",-1),m=s("p",null,"显然，这两张表的数据已经正确进行了分库。",-1),R=s("h3",{id:"小结",tabindex:"-1"},[a("小结 "),s("a",{class:"header-anchor",href:"#小结","aria-label":'Permalink to "小结"'},"​")],-1),S=s("p",null,"从本课时开始，我们正式进入到 ShardingSphere 核心功能的讲解。为了介绍这些功能特性，我们将从单库单表架构讲起，基于一个典型的业务场景梳理数据操作的需求，并给出整个代码工程的框架，以及基于测试用例验证数据操作结果的实现过程。今天的内容关注于如何实现分库操作，我们通过引入 ShardingSphere 中强大的配置体系实现了分库效果。",-1),C=s("p",null,"这里给你留一道思考题：如何理解绑定表和广播表的含义和作用？",-1),T=s("p",null,"分库是 ShardingSphere 中分片引擎的核心功能之一，也可以说是最简单的功能之一。在下一课时中，我们将继续介绍分表、分库+分表以及强制路由等分片机制。",-1);function H(B,f,I,O,N,q){const n=e("Image");return r(),t("div",null,[E,l(n,{alt:"Drawing 0.png",src:"https://s0.lgstatic.com/i/image/M00/2B/30/Ciqc1F79xmuAcgDXAABZ98dOvow631.png"}),a(),i,y,l(n,{alt:"Drawing 2.png",src:"https://s0.lgstatic.com/i/image/M00/2B/30/Ciqc1F79xn2AZ5AlAAANShGk9Ss532.png"}),a(),d,h,l(n,{alt:"Drawing 3.png",src:"https://s0.lgstatic.com/i/image/M00/2B/3B/CgqCHl79xouAFJaOAAAN0iT9QRU187.png"}),a(),g,l(n,{alt:"Drawing 4.png",src:"https://s0.lgstatic.com/i/image/M00/2B/30/Ciqc1F79xqWAWcuSAAAQHxH2EJw496.png"}),a(),_,u,l(n,{alt:"Drawing 5.png",src:"https://s0.lgstatic.com/i/image/M00/2B/3B/CgqCHl79xruAfTx6AAAXfz-iHSU716.png"}),a(),F,l(n,{alt:"Drawing 6.png",src:"https://s0.lgstatic.com/i/image/M00/2B/30/Ciqc1F79x0uAMmoLAAAni5nGp94973.png"}),a(),k,l(n,{alt:"Drawing 7.png",src:"https://s0.lgstatic.com/i/image/M00/2B/30/Ciqc1F79xzCAJRa1AAAsmwNVR2c289.png"}),a(),A,v,l(n,{alt:"Drawing 8.png",src:"https://s0.lgstatic.com/i/image/M00/2B/30/Ciqc1F79x1aAcKcKAAAnnGtKSYI997.png"}),a(),b,l(n,{alt:"Drawing 9.png",src:"https://s0.lgstatic.com/i/image/M00/2B/30/Ciqc1F79x12ACkcOAAAugYxPEXc765.png"}),a(),D,m,R,S,C,T])}const j=o(c,[["render",H]]);export{L as __pageData,j as default};
