import{_ as p,j as o,o as e,g as t,k as n,s,h as c,Q as l}from"./chunks/framework.e0c66c3f.js";const _=JSON.parse('{"title":"典型回答 ","description":"","frontmatter":{},"headers":[],"relativePath":"posts/backEnd/Java 源码剖析 34 讲_文档/(1786) 第26讲：生产环境如何排除和优化 JVM？.md","filePath":"posts/backEnd/Java 源码剖析 34 讲_文档/(1786) 第26讲：生产环境如何排除和优化 JVM？.md","lastUpdated":1696338709000}'),r={name:"posts/backEnd/Java 源码剖析 34 讲_文档/(1786) 第26讲：生产环境如何排除和优化 JVM？.md"},y=s("p",null,"通过前面几个课时的学习，相信你对 JVM 的理论及实践等相关知识有了一个大体的印象。而本课时将重点讲解 JVM 的排查与优化，这样就会对 JVM 的知识点有一个完整的认识，从而可以更好地应用于实际工作或者面试了。",-1),E=s("p",null,"我们本课时的面试题是，生产环境如何排查问题？",-1),i=s("h3",{id:"典型回答",tabindex:"-1"},[c("典型回答 "),s("a",{class:"header-anchor",href:"#典型回答","aria-label":'Permalink to "典型回答"'},"​")],-1),F=s("p",null,"如果是在生产环境中直接排查 JVM 的话，最简单的做法就是使用 JDK 自带的 6 个非常实用的命令行工具来排查。它们分别是：jps、jstat、jinfo、jmap、jhat 和 jstack，它们都位于 JDK 的 bin 目录下，可以使用命令行工具直接运行，其目录如下图所示：",-1),d=l("",36),C=l("",17),D=s("p",null,"可以看出我们可以用它来连接远程的服务器，或者是直接调试本机，这样就可以在不消耗生产环境的性能下，从本机启动 JConsole 来连接服务器。选择了调试的进程之后，运行界面如下图所示：",-1),A=s("p",null,"从上图可以看出，使用 JConsole 可以监控线程、CPU、类、堆以及 VM 的相关信息，同样我们可以通过线程这一页的信息，发现之前我们故意写的死锁问题，如下图所示：",-1),u=s("p",null,"可以看到 main（主线程）和 Thread-0 线程处于死锁状态。",-1),h=s("p",null,"JVisualVM 的启动图如下图所示：",-1),g=s("p",null,"由上图可知，JVisualVM 既可以调试本地也可以调试远程服务器，当我们选择了相关的进程之后，运行如下图所示：",-1),m=s("p",null,"可以看出 JVisualVM 除了包含了 JConsole 的信息之外，还有更多的详细信息，并且更加智能。例如，线程死锁检查的这页内容如下图所示：",-1),b=l("",8);function j(B,v,f,x,k,q){const a=o("Image");return e(),t("div",null,[y,E,i,F,n(a,{alt:"Drawing 0.png",src:"https://s0.lgstatic.com/i/image/M00/19/15/CgqCHl7Z6XeAXH4mAAQG2yKoYrQ797.png"}),d,n(a,{alt:"Drawing 1.png",src:"https://s0.lgstatic.com/i/image/M00/19/0A/Ciqc1F7Z6YyAZxEUAAHRgiBjrK8704.png"}),C,n(a,{alt:"Drawing 2.png",src:"https://s0.lgstatic.com/i/image/M00/19/0A/Ciqc1F7Z6ZuAZOoBAAIE-PlP8mY751.png"}),D,n(a,{alt:"Drawing 3.png",src:"https://s0.lgstatic.com/i/image/M00/19/16/CgqCHl7Z6aKAZfp0AAKE9E3ar6c820.png"}),A,n(a,{alt:"Drawing 4.png",src:"https://s0.lgstatic.com/i/image/M00/19/16/CgqCHl7Z6amAF-LOAAKoeNJzszw795.png"}),u,h,n(a,{alt:"Drawing 5.png",src:"https://s0.lgstatic.com/i/image/M00/19/16/CgqCHl7Z6a-AK0DMAAHTxm7JgYI402.png"}),g,n(a,{alt:"Drawing 6.png",src:"https://s0.lgstatic.com/i/image/M00/19/16/CgqCHl7Z6beAUJ6sAAMkaaTyA9U352.png"}),m,n(a,{alt:"Drawing 7.png",src:"https://s0.lgstatic.com/i/image/M00/19/0A/Ciqc1F7Z6b2Aa8CCAANpsufYncw124.png"}),b])}const M=p(r,[["render",j]]);export{_ as __pageData,M as default};
