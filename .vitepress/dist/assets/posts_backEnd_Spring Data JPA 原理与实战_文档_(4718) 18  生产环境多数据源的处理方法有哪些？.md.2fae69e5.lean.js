import{_ as o,D as e,o as t,g as r,J as n,h as s,Q as l,m as p}from"./chunks/framework.f67d7268.js";const k=JSON.parse('{"title":"18生产环境多数据源的处理方法有哪些？","description":"","frontmatter":{},"headers":[],"relativePath":"posts/backEnd/Spring Data JPA 原理与实战_文档/(4718) 18  生产环境多数据源的处理方法有哪些？.md","filePath":"posts/backEnd/Spring Data JPA 原理与实战_文档/(4718) 18  生产环境多数据源的处理方法有哪些？.md","lastUpdated":1696682708000}'),c={name:"posts/backEnd/Spring Data JPA 原理与实战_文档/(4718) 18  生产环境多数据源的处理方法有哪些？.md"},y=l("",8),E=l("",14),i=p("p",null,"可以看到启动的是两个数据源，其对应的连接池的监控也是不一样的：数据源 1 有 8 个，数据源 2 有 6 个。",-1),u=p("p",null,"如果我们分别请求 Controller 写的两个方法的时候，也会分别插入到不同的数据源里面去。",-1),F=p("p",null,"通过上面的六个步骤你应该知道了如何配置多数据源，那么它的原理基础是什么呢？我们看一下",-1),D=p("p",null,"Datasource 与 TransactionManager、EntityManagerFactory 的关系和职责分别是怎么样的。",-1),d=p("h4",{id:"datasource-与-transactionmanager、entitymanagerfactory-的关系分析",tabindex:"-1"},[s("Datasource 与 TransactionManager、EntityManagerFactory 的关系分析 "),p("a",{class:"header-anchor",href:"#datasource-与-transactionmanager、entitymanagerfactory-的关系分析","aria-label":'Permalink to "Datasource 与 TransactionManager、EntityManagerFactory 的关系分析"'},"​")],-1),g=p("p",null,"我们通过一个类的关系图来分析一下：",-1),A=l("",5),b=p("p",null,"接着打开 JpaBaseConfiguration 就可以看到多数据源的参考原型，如下图所示：",-1),C=l("",26),S=l("",9);function B(m,q,M,h,f,v){const a=e("Image");return t(),r("div",null,[y,n(a,{alt:"Drawing 0.png",src:"https://s0.lgstatic.com/i/image/M00/6C/C0/Ciqc1F-rk6mAO4voAAEl2cIHNqg269.png"}),s(),E,n(a,{alt:"Drawing 1.png",src:"https://s0.lgstatic.com/i/image/M00/6C/CC/CgqCHl-rk8WAV0LYAAIUPl37DVs337.png"}),s(),n(a,{alt:"Drawing 2.png",src:"https://s0.lgstatic.com/i/image/M00/6C/CC/CgqCHl-rk8qAZkCgAAHBFDKIWG0269.png"}),s(),i,n(a,{alt:"Drawing 3.png",src:"https://s0.lgstatic.com/i/image/M00/6C/CC/CgqCHl-rk8-AK9nMAABPduIgKR4098.png"}),s(),u,F,D,d,g,n(a,{alt:"Drawing 4.png",src:"https://s0.lgstatic.com/i/image/M00/6C/CC/CgqCHl-rk9aAfRipAAB6oNvBMnM239.png"}),s(),A,n(a,{alt:"Drawing 5.png",src:"https://s0.lgstatic.com/i/image/M00/6C/C1/Ciqc1F-rk-GAXBLMAABJWH1P9Qs574.png"}),s(),b,n(a,{alt:"Drawing 6.png",src:"https://s0.lgstatic.com/i/image/M00/6C/C1/Ciqc1F-rk-iAMO5TAAIqJTa-4bI250.png"}),s(),C,n(a,{alt:"Drawing 7.png",src:"https://s0.lgstatic.com/i/image/M00/6C/CC/CgqCHl-rlAGARlxqAAVdbojSwxw751.png"}),s(),S])}const R=o(c,[["render",B]]);export{k as __pageData,R as default};
