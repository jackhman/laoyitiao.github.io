import{_ as p,D as t,o as e,g as c,J as o,h as s,Q as l,m as n}from"./chunks/framework.f67d7268.js";const v=JSON.parse('{"title":"14如何利用缓存+数据库构建高可靠的扣减方案？","description":"","frontmatter":{},"headers":[],"relativePath":"posts/backEnd/23讲搞定后台架构实战_文档/(6139) 14  如何利用缓存+数据库构建高可靠的扣减方案？.md","filePath":"posts/backEnd/23讲搞定后台架构实战_文档/(6139) 14  如何利用缓存+数据库构建高可靠的扣减方案？.md","lastUpdated":1696682708000}'),r={name:"posts/backEnd/23讲搞定后台架构实战_文档/(6139) 14  如何利用缓存+数据库构建高可靠的扣减方案？.md"},i=l("",11),E=l("",11),y=l("",10),u=l("",7),d=n("p",null,"图 4：无状态存储的架构图",-1),_=n("p",null,[s('采用无状态存储后，任务库便可以进行水平扩展了，在性能和高可用上得到进一步的加强。具体的细节原理和落地步骤，你可以参考"'),n("a",{href:"https://kaiwu.lagou.com/course/courseInfo.htm?courseId=595#/detail/pc?id=6134",target:"_blank",rel:"noreferrer"},"第 9 讲"),s('"，这里不再赘述。')],-1),g=n("h4",{id:"数据同步",tabindex:"-1"},[s("数据同步 "),n("a",{class:"header-anchor",href:"#数据同步","aria-label":'Permalink to "数据同步"'},"​")],-1),h=n("p",null,[s('任务库和业务正式库之间的数据同步和"'),n("a",{href:"https://kaiwu.lagou.com/course/courseInfo.htm?courseId=595#/detail/pc?id=6134",target:"_blank",rel:"noreferrer"},"第 9 讲"),s('"里介绍的无状态的存储基本类似，但整体实现上会更加简单。因为在业务上，扣'),n("strong",null,"减前置依赖的均是缓存里的数据，业务正式库里的数据只用来做兜底使用"),s("。因此最终只要使用 Worker 将数据从任务库同步至业务正式库即可，架构如下图 5 所示：")],-1),m=l("",5);function F(q,b,A,k,C,f){const a=t("Image");return e(),c("div",null,[i,o(a,{alt:"Drawing 0.png",src:"https://s0.lgstatic.com/i/image6/M01/05/79/CioPOWAwyQ6AWdJwAACfPtIGbZQ225.png"}),s(),E,o(a,{alt:"Drawing 2.png",src:"https://s0.lgstatic.com/i/image6/M00/05/7C/Cgp9HWAwySGAOrtLAADfkL8uxjA721.png"}),s(),y,o(a,{alt:"Drawing 4.png",src:"https://s0.lgstatic.com/i/image6/M00/05/79/CioPOWAwyUCAcJrrAAC-K44fcVU378.png"}),s(),u,o(a,{alt:"Drawing 6.png",src:"https://s0.lgstatic.com/i/image6/M00/05/7D/Cgp9HWAwyUuAYlA9AAECkv_ImAo470.png"}),s(),d,_,g,h,o(a,{alt:"Drawing 8.png",src:"https://s0.lgstatic.com/i/image6/M00/05/7D/Cgp9HWAwyVWADsz1AACynQcYQUU915.png"}),s(),m])}const T=p(r,[["render",F]]);export{v as __pageData,T as default};
