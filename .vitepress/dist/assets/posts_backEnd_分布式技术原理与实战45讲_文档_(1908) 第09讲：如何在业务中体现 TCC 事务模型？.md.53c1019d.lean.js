import{_ as i,j as l,o as c,g as o,k as e,s as a,h as r,Q as n}from"./chunks/framework.b3d8e22e.js";const D=JSON.parse('{"title":"TCC 事务模型是什么 ","description":"","frontmatter":{},"headers":[],"relativePath":"posts/backEnd/分布式技术原理与实战45讲_文档/(1908) 第09讲：如何在业务中体现 TCC 事务模型？.md","filePath":"posts/backEnd/分布式技术原理与实战45讲_文档/(1908) 第09讲：如何在业务中体现 TCC 事务模型？.md","lastUpdated":1696417798000}'),C={name:"posts/backEnd/分布式技术原理与实战45讲_文档/(1908) 第09讲：如何在业务中体现 TCC 事务模型？.md"},s=a("p",null,"在分布式系统设计中，随着微服务的流行，通常一个业务操作被拆分为多个子任务，比如电商系统的下单和支付操作，就涉及到了创建和更新订单、扣减账户余额、扣减库存、发送物流消息等，那么在复杂业务开发中，如何保证最终数据一致性呢？",-1),p=a("h3",{id:"tcc-事务模型是什么",tabindex:"-1"},[r("TCC 事务模型是什么 "),a("a",{class:"header-anchor",href:"#tcc-事务模型是什么","aria-label":'Permalink to "TCC 事务模型是什么"'},"​")],-1),_=a("p",null,`TCC（Try-Confirm-Cancel）的概念来源于 Pat Helland 发表的一篇名为"Life beyond Distributed Transactions:an Apostate's Opinion"的论文。`,-1),h=a("p",null,"TCC 提出了一种新的事务模型，基于业务层面的事务定义，锁粒度完全由业务自己控制，目的是解决复杂业务中，跨表跨库等大颗粒度资源锁定的问题。TCC 把事务运行过程分成 Try、Confirm / Cancel 两个阶段，每个阶段的逻辑由业务代码控制，避免了长事务，可以获取更高的性能。",-1),T=a("h4",{id:"tcc-的各个阶段",tabindex:"-1"},[r("TCC 的各个阶段 "),a("a",{class:"header-anchor",href:"#tcc-的各个阶段","aria-label":'Permalink to "TCC 的各个阶段"'},"​")],-1),d=a("p",null,"TCC 的具体流程如下图所示：",-1),m=n("",13),g=n("",20),u=n("",12),b=a("h3",{id:"总结",tabindex:"-1"},[r("总结 "),a("a",{class:"header-anchor",href:"#总结","aria-label":'Permalink to "总结"'},"​")],-1),f=a("p",null,"这一课时介绍了 TCC 分布式事务模型的应用，通过一个实际例子分析了如何应用 TCC 对业务系统进行改造，并且对比了 TCC 和 2PC 两阶段提交，以及 TCC 相关的开源组件。",-1);function P(A,q,k,x,S,y){const t=l("Image");return c(),o("div",null,[s,p,_,h,T,d,e(t,{alt:"1.png",src:"https://s0.lgstatic.com/i/image/M00/00/D0/Ciqc1F6qgbmAC6GbAAJF3yzrcWs383.png"}),m,e(t,{alt:"image.png",src:"https://s0.lgstatic.com/i/image/M00/00/D1/Ciqc1F6qgfuAJQCgAAG9JoGK4rY210.png"}),g,e(t,{alt:"image (1).png",src:"https://s0.lgstatic.com/i/image/M00/00/D1/CgqCHl6qgjmAASLlAAServJ4VUM890.png"}),u,e(t,{alt:"image (2).png",src:"https://s0.lgstatic.com/i/image/M00/00/D1/CgqCHl6qgnGAV36VAACSjbYig5g034.png"}),b,f])}const I=i(C,[["render",P]]);export{D as __pageData,I as default};
