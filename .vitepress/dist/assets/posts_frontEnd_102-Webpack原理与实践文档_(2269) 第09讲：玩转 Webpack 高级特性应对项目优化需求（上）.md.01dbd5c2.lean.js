import{_ as o,j as e,o as t,g as c,k as n,Q as a,s as p,h as l}from"./chunks/framework.e0c66c3f.js";const V=JSON.parse('{"title":"Tree Shaking ","description":"","frontmatter":{},"headers":[],"relativePath":"posts/frontEnd/102-Webpack原理与实践文档/(2269) 第09讲：玩转 Webpack 高级特性应对项目优化需求（上）.md","filePath":"posts/frontEnd/102-Webpack原理与实践文档/(2269) 第09讲：玩转 Webpack 高级特性应对项目优化需求（上）.md","lastUpdated":1696338709000}'),r={name:"posts/frontEnd/102-Webpack原理与实践文档/(2269) 第09讲：玩转 Webpack 高级特性应对项目优化需求（上）.md"},E=a("",20),y=a("",8),i=p("p",null,"这里的打包结果跟我们在第二讲中分析的是一样的，源代码中的一个模块对应这里的一个函数。",-1),d=p("p",null,"我们这里注意一下 components 对应的这个模块，虽然外部没有使用这里的 Link 函数和 Heading 函数，但是仍然导出了它们，具体如下图所示：",-1),u=a("",5),F=a("",5),g=a("",12),h=a("",9),m=a("",5),b=p("p",null,"仔细查看你会发现，结果并不是像刚刚说的那样，这里 usedExports 功能仍然正常工作了，此时，如果我们压缩代码，这些未引用的代码依然会被移除。这也就说明 Tree-shaking 并没有失效。",-1),C=p("p",null,[l("那到底是怎么回事呢？为什么很多资料都说 babel-loader 会导致 Tree-shaking 失效，但当我们"),p("strong",null,"实际尝试"),l("后又发现并没有失效？")],-1),k=p("p",null,[l("其实，这是因为在最新版本（8.x）的 babel-loader 中，已经自动帮我们关闭了对 ES Modules 转换的插件，你可以参考对应版本 babel-loader 的"),p("a",{href:"https://github.com/babel/babel-loader/blob/v8.1.0/src/injectCaller.js",target:"_blank",rel:"noreferrer"},"源码"),l("，核心代码如下：")],-1),_=p("p",null,"通过查阅 babel-loader 模块的源码，我们发现它已经在 injectCaller 函数中标识了当前环境支持 ES Modules。",-1),A=p("p",null,"然后再找到我们所使用的 @babal/preset-env 模块源码，部分核心代码如下：",-1),q=a("",6),f=a("",16),D=p("p",null,"根据打包结果发现，所有的组件模块都被打包进了 bundle.js。",-1),B=p("p",null,"此时如果我们开启 Tree-shaking 特性（只设置 useExports），这里没有用到的导出成员其实最终也可以被移除，打包效果如下：",-1),v=a("",12),j=a("",14),T=a("",14);function x(S,w,z,M,I,P){const s=e("Image");return t(),c("div",null,[E,n(s,{alt:"image.png",src:"https://s0.lgstatic.com/i/image/M00/0C/24/CgqCHl7CJgCAODEAAAL-CbA2wi8995.png"}),y,n(s,{alt:"image (1).png",src:"https://s0.lgstatic.com/i/image/M00/0C/18/Ciqc1F7CJg2AWdwCAARsXLiQbZg849.png"}),i,d,n(s,{alt:"image (2).png",src:"https://s0.lgstatic.com/i/image/M00/0C/19/Ciqc1F7CJuSAWnoVAALlDoFDv_I403.png"}),u,n(s,{alt:"image (3).png",src:"https://s0.lgstatic.com/i/image/M00/0C/24/CgqCHl7CJhaAYA52AAPjj4F6_IY241.png"}),F,n(s,{alt:"image (4).png",src:"https://s0.lgstatic.com/i/image/M00/0C/25/CgqCHl7CJviAEtOzAANZJYj6ZSM190.png"}),g,n(s,{alt:"image (5).png",src:"https://s0.lgstatic.com/i/image/M00/0C/25/CgqCHl7CJwSAD4A7AAKMt-CKLKo558.png"}),h,n(s,{alt:"1.png",src:"https://s0.lgstatic.com/i/image/M00/0C/1E/Ciqc1F7CKjiAeXTAAABAsbetEV0413.png"}),m,n(s,{alt:"image (7).png",src:"https://s0.lgstatic.com/i/image/M00/0C/25/CgqCHl7CJyKAIcvUAAPfiYLuH3k609.png"}),b,C,k,n(s,{alt:"image (8).png",src:"https://s0.lgstatic.com/i/image/M00/0C/25/CgqCHl7CJyuAXIeGAAIXqPpxX4w402.png"}),_,A,n(s,{alt:"image (9).png",src:"https://s0.lgstatic.com/i/image/M00/0C/25/CgqCHl7CJzSARd1WAAHTUcAc7ig911.png"}),q,n(s,{alt:"image (10).png",src:"https://s0.lgstatic.com/i/image/M00/0C/25/CgqCHl7CJz6AAc34AAKFOT56VyQ546.png"}),f,n(s,{alt:"image (11).png",src:"https://s0.lgstatic.com/i/image/M00/0C/26/CgqCHl7CJ0yAGDd6AAIWFCrr50U502.png"}),D,B,n(s,{alt:"image (12).png",src:"https://s0.lgstatic.com/i/image/M00/0C/26/CgqCHl7CJ1WAHn9oAANiI-_U6Uw344.png"}),v,n(s,{alt:"image (13).png",src:"https://s0.lgstatic.com/i/image/M00/0C/1A/Ciqc1F7CJ2GAd6ktAALO5DYhwXo465.png"}),j,n(s,{alt:"image (14).png",src:"https://s0.lgstatic.com/i/image/M00/0C/1A/Ciqc1F7CJ2qAEv1ZAAFrFf6WvFI346.png"}),T])}const N=o(r,[["render",x]]);export{V as __pageData,N as default};
