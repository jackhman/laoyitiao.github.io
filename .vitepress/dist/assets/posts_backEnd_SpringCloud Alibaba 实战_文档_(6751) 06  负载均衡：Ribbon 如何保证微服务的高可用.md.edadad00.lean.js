import{_ as o,j as e,o as t,g as c,k as a,h as s,Q as p,s as l}from"./chunks/framework.a0d18f64.js";const P=JSON.parse('{"title":"06负载均衡：Ribbon如何保证微服务的高可用","description":"","frontmatter":{},"headers":[],"relativePath":"posts/backEnd/SpringCloud Alibaba 实战_文档/(6751) 06  负载均衡：Ribbon 如何保证微服务的高可用.md","filePath":"posts/backEnd/SpringCloud Alibaba 实战_文档/(6751) 06  负载均衡：Ribbon 如何保证微服务的高可用.md","lastUpdated":1696682708000}'),r={name:"posts/backEnd/SpringCloud Alibaba 实战_文档/(6751) 06  负载均衡：Ribbon 如何保证微服务的高可用.md"},E=p("",6),y=l("p",null,[s("负载均衡按实现方式分类可区分为："),l("strong",null,"服务端负载均衡"),s(" 与"),l("strong",null,"客户端负载均衡"),s("。")],-1),i=l("p",null,"服务端负载均衡顾名思义，在架构中会提供专用的负载均衡器，由负载均衡器持有后端节点的信息，服务消费者发来的请求经由专用的负载均衡器分发给服务提供者，进而实现负载均衡的作用。目前常用的负载均衡器软硬件有：F5、Nginx、HaProxy 等。",-1),d=l("p",null,"客户端负载均衡是指，在架构中不再部署额外的负载均衡器，在每个服务消费者内部持有客户端负载均衡器，由内置的负载均衡策略决定向哪个服务提供者发起请求。说到这，我们的主角登场了，Netfilx Ribbon 是 Netflix 公司开源的一个负载均衡组件，是属于客户端负载均衡器。目前Ribbon 已被 Spring Cloud 官方技术生态整合，运行时以 SDK 形式内嵌到每一个微服务实例中，为微服务间通信提供负载均衡与高可用支持。为了更容易理解，我们通过应用场景说明 Ribbon 的执行流程。假设订单服务在查询订单时需要附带对应商品详情，这就意味着订单服务依赖于商品服务，两者必然产生服务间通信，此时 Ribbon 的执行过程如下图所示：",-1),g=p("",8),A=p("",8),v=l("p",null,"在 provider-service 工程中利用 maven package 命令生成 provider-service-0.0.1-SNAPSHOT.jar。",-1),u=p("",3),F=p("",2),D=l("p",null,"到这里，第一阶段开发服务提供者 provider-service 告一段落。",-1),b=l("p",null,[l("strong",null,"第二阶段"),s("，开发服务消费者 consumer-service，服务消费者说白了就是服务的使用方，我们需要在服务消费者内置 Ribbon+RestTemplate 实现服务间高可用通信。")],-1),m=l("p",null,"第一步，利用 Spring Initializr 创建 consumer-service微服务。",-1),h=p("",10),C=p("",12),B=p("",27),_=p("",9);function f(R,T,I,S,k,q){const n=e("Image");return t(),c("div",null,[E,a(n,{alt:"图片1.png",src:"https://s0.lgstatic.com/i/image6/M01/19/1E/CioPOWBJwsuATx9NAAG5-vZf3ac538.png"}),s(),y,i,a(n,{alt:"图片2.png",src:"https://s0.lgstatic.com/i/image6/M01/19/21/Cgp9HWBJwtuAQzndAAESYZX7dBg295.png"}),s(),d,a(n,{alt:"图片3.png",src:"https://s0.lgstatic.com/i/image6/M01/19/21/Cgp9HWBJwuWAHSngAAF5Aq9Kc40749.png"}),s(),g,a(n,{alt:"图片4.png",src:"https://s0.lgstatic.com/i/image6/M01/19/1E/CioPOWBJwvSAG8EXAAF2iTbEk7Q110.png"}),s(),A,a(n,{alt:"图片5.png",src:"https://s0.lgstatic.com/i/image6/M01/19/21/Cgp9HWBJwwCAWQTEAAGYqp_ImI0708.png"}),s(),v,a(n,{alt:"图片6.png",src:"https://s0.lgstatic.com/i/image6/M01/19/1E/CioPOWBJww2AQjzgAAPudFa5w-0816.png"}),s(),u,a(n,{alt:"图片7.png",src:"https://s0.lgstatic.com/i/image6/M01/19/21/Cgp9HWBJwxuAcxOcAAH-s7vW8jY536.png"}),s(),F,a(n,{alt:"图片8.png",src:"https://s0.lgstatic.com/i/image6/M00/19/1E/CioPOWBJw2uAAYFIAAC7fTlBxfE550.png"}),s(),D,b,m,a(n,{alt:"图片9.png",src:"https://s0.lgstatic.com/i/image6/M00/19/1E/CioPOWBJw12AWGgvAAPhdgyUzII247.png"}),s(),h,a(n,{alt:"图片10.png",src:"https://s0.lgstatic.com/i/image6/M00/19/22/Cgp9HWBJw32AP6Q-AAISw1hZuVw034.png"}),s(),C,a(n,{alt:"图片11.png",src:"https://s0.lgstatic.com/i/image6/M00/19/22/Cgp9HWBJw5GAfy0KAAF_d0YMb9M817.png"}),s(),B,a(n,{alt:"图片12.png",src:"https://s0.lgstatic.com/i/image6/M00/19/1E/CioPOWBJw6SAKOB6AAXujVzqsIs554.png"}),s(),_])}const j=o(r,[["render",f]]);export{P as __pageData,j as default};
