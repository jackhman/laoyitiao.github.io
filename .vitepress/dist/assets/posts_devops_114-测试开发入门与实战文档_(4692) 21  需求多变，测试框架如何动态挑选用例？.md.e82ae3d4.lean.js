import{_ as o,j as e,o as t,g as c,k as p,h as n,Q as l,s}from"./chunks/framework.cfb14fe0.js";const R=JSON.parse('{"title":"21需求多变，测试框架如何动态挑选用例？","description":"","frontmatter":{},"headers":[],"relativePath":"posts/devops/114-测试开发入门与实战文档/(4692) 21  需求多变，测试框架如何动态挑选用例？.md","filePath":"posts/devops/114-测试开发入门与实战文档/(4692) 21  需求多变，测试框架如何动态挑选用例？.md","lastUpdated":1696682708000}'),r={name:"posts/devops/114-测试开发入门与实战文档/(4692) 21  需求多变，测试框架如何动态挑选用例？.md"},y=l("",10),E=l("",11),i=l("",10),F=l("",16),u=l("",4),d=l("",4),g=l("",16),_=s("p",null,"请观察：",-1),m=s("ul",null,[s("li",null,[s("p",null,"第 142 行，判断测试函数有没有 -m 参数。没有 -m 参数，执行第 148 行及以后的代码，执行完就结束；有 -m 参数，继续第 2 步。")]),s("li",null,[s("p",null,[n('有 -m 的情况下，查看测试函数的"'),s("strong",null,"test_cse_mark"),n('"这个属性，并且要判断它的值等不等于用户传入的 -m 的参数值（第 143 行）。如果都相同，则将执行这个测试函数；如果不相同，则不执行这个测试函数。')])])],-1),h=s("p",null,"注意：关于 -m 的判断，是在最后 func_name.startswith('test') 这里判断的（这个语句在上述的 141 行），这是个独立的判断，即所有存在 func_name.startswith('test') 这句话后，都应该加 -m 的判断。明白了这个之后，我们把其余存在 func_name.startswith('test') 这句话的地方进行更改，更改后的 run 方法如下所示。",-1),A=s("p",null,"现在在 -k 参数存在的情况下，将 -m 参数的代码补上：",-1),C=l("",5),k=l("",4),D=l("",4),v=l("",4),T=s("p",null,"可以看到虽然 -k 和 -m 分别匹配到了 test_login 和 test_demo_true 两个函数，但是没有一个函数是同时满足 -k 和 -m 的条件的，所以没有测试用例被执行。",-1),B=s("h3",{id:"总结",tabindex:"-1"},[n("总结 "),s("a",{class:"header-anchor",href:"#总结","aria-label":'Permalink to "总结"'},"​")],-1),q=s("p",null,"这一讲，我们详细讨论并解释了如何动态挑选测试用例。从 pytest 动态挑选测试用例的方法入手，我以 -k 和 -m 两个参数为例，逐一编码实现了与 pytest 类似的功能。本节课内容较多，代码层次也更深，希望你能实际动手操作一遍以加深理解。",-1),f=s("p",null,"至此，我已经带领大家实现了自研框架的大部分功能，包括测试用例查找、测试模块自动导入、测试数据加载、测试用例执行，以及测试用例按照名称或者标签挑选执行。当然，为了尽可能清晰简洁地向你讲解代码实现的原理，我们本讲的代码采用流水线的方式，不具备美感。",-1),b=s("p",null,"在实际工作中，真正可用的自研框架，其代码一定比这个复杂得多，而且更抽象，解耦也会做得比这个好。所以本讲希望你以了解其原理及实现过程为主，勤加练习。",-1),w=s("p",null,'关于自研框架更深入层次的技术介绍，请关注我的公众号 iTesting 并回复"测试框架"查看。',-1),S=s("hr",null,null,-1),P=s("p",null,[s("a",{href:"https://wj.qq.com/s2/7506053/9b01",target:"_blank",rel:"noreferrer"},"课程评价入口，挑选 5 名小伙伴赠送小礼品～")],-1);function M(x,N,V,I,L,j){const a=e("Image");return t(),c("div",null,[y,p(a,{alt:"图片1.png",src:"https://s0.lgstatic.com/i/image/M00/6F/32/Ciqc1F-04WiAP9iEAAKhLoT-LeY024.png"}),n(),E,p(a,{alt:"Drawing 1.png",src:"https://s0.lgstatic.com/i/image/M00/6E/63/CgqCHl-yOxSABdE2AAAm5n_ipOg309.png"}),n(),i,p(a,{alt:"Drawing 2.png",src:"https://s0.lgstatic.com/i/image/M00/6E/63/CgqCHl-yOyWAeLCeAAJpknK3K_8677.png"}),n(),F,p(a,{alt:"Drawing 3.png",src:"https://s0.lgstatic.com/i/image/M00/6E/63/CgqCHl-yOy-AXXxOAABDFUpgYpA425.png"}),n(),u,p(a,{alt:"Drawing 4.png",src:"https://s0.lgstatic.com/i/image/M00/6E/58/Ciqc1F-yOzaAbdY9AAA8ijJKju0603.png"}),n(),d,p(a,{alt:"Drawing 5.png",src:"https://s0.lgstatic.com/i/image/M00/6E/63/CgqCHl-yOz6AH5gyAAAtjErpPmQ798.png"}),n(),g,p(a,{alt:"图片7.png",src:"https://s0.lgstatic.com/i/image/M00/6F/32/Ciqc1F-04i-Ac9-VAAZ3Auqhaqc236.png"}),n(),_,m,h,A,p(a,{alt:"Drawing 7.png",src:"https://s0.lgstatic.com/i/image/M00/6E/63/CgqCHl-yO1SALrpAAAQGpdPczGE534.png"}),n(),C,p(a,{alt:"Drawing 8.png",src:"https://s0.lgstatic.com/i/image/M00/6E/58/Ciqc1F-yO1qAWNesAAAyDWcA6rs157.png"}),n(),k,p(a,{alt:"图片10.png",src:"https://s0.lgstatic.com/i/image/M00/6F/3D/CgqCHl-04kWAB7B4AAXWh8-D_X8908.png"}),n(),D,p(a,{alt:"图片11.png",src:"https://s0.lgstatic.com/i/image/M00/6F/32/Ciqc1F-04lKAYl1cAAP1t2IV2dQ598.png"}),n(),v,p(a,{alt:"Drawing 11.png",src:"https://s0.lgstatic.com/i/image/M00/6E/63/CgqCHl-yO2-AYJHmAAAxIb3T0pY276.png"}),n(),T,B,q,f,b,w,S,P])}const G=o(r,[["render",M]]);export{R as __pageData,G as default};
