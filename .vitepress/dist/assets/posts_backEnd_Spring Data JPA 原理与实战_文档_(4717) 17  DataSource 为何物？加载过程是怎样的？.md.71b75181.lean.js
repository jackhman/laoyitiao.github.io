import{_ as o,j as e,o as t,g as r,k as a,s as p,h as l,Q as n}from"./chunks/framework.4e7d56ce.js";const M=JSON.parse('{"title":"数据源是什么？ ","description":"","frontmatter":{},"headers":[],"relativePath":"posts/backEnd/Spring Data JPA 原理与实战_文档/(4717) 17  DataSource 为何物？加载过程是怎样的？.md","filePath":"posts/backEnd/Spring Data JPA 原理与实战_文档/(4717) 17  DataSource 为何物？加载过程是怎样的？.md","lastUpdated":1696417798000}'),c={name:"posts/backEnd/Spring Data JPA 原理与实战_文档/(4717) 17  DataSource 为何物？加载过程是怎样的？.md"},E=p("p",null,"最近几年 DataSource 越来越成熟，但当我们做开发的时候对 DataSource 的关心却越来越少，这是因为大多数情况都是利用 application.properties进行简单的数据源配置，项目就可以正常运行了。但是当我们想要解决一些原理性问题的时候，就需要用到 DataSource、连接池等基础知识了。",-1),i=p("p",null,"那么这一讲我将带你揭开 DataSource 的面纱，一起来了解它是什么、如何使用，以及最佳实践是什么呢？",-1),y=p("h3",{id:"数据源是什么",tabindex:"-1"},[l("数据源是什么？ "),p("a",{class:"header-anchor",href:"#数据源是什么","aria-label":'Permalink to "数据源是什么？"'},"​")],-1),d=p("p",null,"当我们用第三方工具去连接数据库（Mysql，Oracle 等）的时候，一般都会让我们选择数据源，如下图所示：",-1),u=p("p",null,"我们以 MySQL 为例，当选择 MySQL 的时候就会弹出如下图显示的界面：",-1),g=n("",7),F=n("",7),m=n("",8),C=n("",12),D=p("p",null,'同时，@ConfigurationProperties(prefix = "spring.datasource") 也告诉我们，application.properties 里面的 datasource 相关的公共配置可以以 spring.datasource 为开头，这样当启动的时候，DataSourceProperties 就会将 datasource 的一切配置自动加载进来。正如我们前面在 application.properties 里面的配置的一样，如下图所示：',-1),h=n("",10),A=n("",9),S=p("p",null,"2.当我们执行一个方法的时候，到底要在一个 MySQL 的 connection 上面执行哪些 SQL 呢？通过如下日志我们可以看得出来。",-1),b=n("",10),v=p("p",null,[l("当看到这些指标之后，我们就可以根据 Grafana 社区里面提供的 HikariCP 的监控 Dashboards 的配置文档地址："),p("a",{href:"https://grafana.com/grafana/dashboards/6083",target:"_blank",rel:"noreferrer"},"https://grafana.com/grafana/dashboards/6083"),l("，导入到我们自己的 Grafana 里面，可以通过图表看到如下界面：")],-1),_=n("",23),k=n("",6),B=n("",8),f=n("",5),P=n("",12);function q(T,x,N,I,H,j){const s=e("Image");return t(),r("div",null,[E,i,y,d,a(s,{alt:"Drawing 0.png",src:"https://s0.lgstatic.com/i/image/M00/6A/2D/CgqCHl-o5UKAeKojAAMZoym4vVw887.png"}),u,a(s,{alt:"Drawing 1.png",src:"https://s0.lgstatic.com/i/image/M00/6A/22/Ciqc1F-o5UuACyC4AAEVdHsmM98446.png"}),g,a(s,{alt:"Drawing 2.png",src:"https://s0.lgstatic.com/i/image/M00/6A/2D/CgqCHl-o5VuAHBXrAAF5pvcL8BA769.png"}),F,a(s,{alt:"Drawing 3.png",src:"https://s0.lgstatic.com/i/image/M00/6A/2D/CgqCHl-o5W6AYziKAALhn9RPD2o391.png"}),m,a(s,{alt:"Drawing 4.png",src:"https://s0.lgstatic.com/i/image/M00/6A/22/Ciqc1F-o5XmADAK4AAC16V3GEqM205.png"}),C,a(s,{alt:"Drawing 6.png",src:"https://s0.lgstatic.com/i/image/M00/6A/22/Ciqc1F-o5Y6AJJGgAADB_oP_Er8606.png"}),D,a(s,{alt:"Drawing 7.png",src:"https://s0.lgstatic.com/i/image/M00/6A/2E/CgqCHl-o5ZWAC7oxAAIk-0v0OKA580.png"}),h,a(s,{alt:"Drawing 8.png",src:"https://s0.lgstatic.com/i/image/M00/6A/2E/CgqCHl-o5aqAP6m_AAHuix5hURo100.png"}),A,a(s,{alt:"Drawing 9.png",src:"https://s0.lgstatic.com/i/image/M00/6A/23/Ciqc1F-o5ciAb9jeAAR6M63p8e0177.png"}),S,a(s,{alt:"Drawing 10.png",src:"https://s0.lgstatic.com/i/image/M00/6A/2F/CgqCHl-o5dqAOiJCAAUvCxtwstQ913.png"}),b,a(s,{alt:"Drawing 11.png",src:"https://s0.lgstatic.com/i/image/M00/6A/2F/CgqCHl-o5euAFtXOAAI2DmhXYZQ057.png"}),v,a(s,{alt:"Drawing 12.png",src:"https://s0.lgstatic.com/i/image/M00/6A/24/Ciqc1F-o5giAf-jFAAIxax2K82w908.png"}),_,a(s,{alt:"Drawing 13.png",src:"https://s0.lgstatic.com/i/image/M00/6A/25/Ciqc1F-o5jmAeh2mAAB0yWE0YWY107.png"}),k,a(s,{alt:"Drawing 14.png",src:"https://s0.lgstatic.com/i/image/M00/6A/25/Ciqc1F-o5kiAbR_iAAAz6GG2wMk729.png"}),B,a(s,{alt:"Drawing 15.png",src:"https://s0.lgstatic.com/i/image/M00/6A/25/Ciqc1F-o5mSASabwAADWrC44gPw955.png"}),f,a(s,{alt:"Drawing 16.png",src:"https://s0.lgstatic.com/i/image/M00/6A/25/Ciqc1F-o5nSAUv1hAAJk2XpXe2k189.png"}),P])}const L=o(c,[["render",q]]);export{M as __pageData,L as default};
