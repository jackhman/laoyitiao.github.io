import{_ as p,j as r,o,g as l,k as a,h as i,Q as t,s as e}from"./chunks/framework.a0d18f64.js";const U=JSON.parse('{"title":"34OpenTracing规范介绍与分布式链路追踪组件选型","description":"","frontmatter":{},"headers":[],"relativePath":"posts/backEnd/Go 微服务实战 38 讲_文档/(3829) 34  OpenTracing 规范介绍与分布式链路追踪组件选型.md","filePath":"posts/backEnd/Go 微服务实战 38 讲_文档/(3829) 34  OpenTracing 规范介绍与分布式链路追踪组件选型.md","lastUpdated":1696682708000}'),g={name:"posts/backEnd/Go 微服务实战 38 讲_文档/(3829) 34  OpenTracing 规范介绍与分布式链路追踪组件选型.md"},s=t("",5),_=e("p",null,"链路追踪组件的组成",-1),c=e("p",null,[i("目前流行的链路追踪组件有"),e("strong",null,"Jaeger、Zipkin、SkyWalking"),i(" 和"),e("strong",null,"Pinpoint"),i("。但是，在数据采集过程中，对用户代码的入侵和不同系统 API 的兼容性，导致切换链路追踪系统需要巨大的成本。")],-1),k=e("p",null,"OpenTracing 的诞生主要是为了解决不同的分布式链路追踪平台的 API 兼容问题。OpenTracing 通过提供与平台和厂商无关 API 的方式，使得开发人员能够很方便地切换追踪系统。",-1),h=e("p",null,"那到底什么是 OpenTracing 呢？根据官方的介绍，OpenTracing 是一个轻量级的标准化层，位于应用程序/类库和追踪或日志分析程序之间。它提供了多种语言库的支持，包括 Go、Java、Python、Objective-C 和 C++ 等，通过引入这些通信标准库，我们就可以将追踪的信息发送到指定的组件。",-1),T=e("p",null,"OpenTracing 的架构如下图所示，从图中我们可以看到 OpenTracing 支持 Zipkin、LightStep 和 Appdash 等追踪组件，并且可以轻松集成到开源的框架中，例如 gRPC、Flask、Django 和 Go-kit 等。",-1),d=t("",7),P=t("",9),S=t("",4),u=t("",8),A=e("p",null,"SkyWalking 6.x 架构图",-1),m=e("p",null,[i("SkyWalking 支持的存储组件有：ES、H2、MySQL、TiDB 和 Sharding Sphere。SkyWalking 的 UI 界面提供的链路追踪查询较为简单，但 SkyWalking 拥有非常活跃的中文社区，支持多种语言的探针，且对国产开源软件全面支持。"),e("strong",null,"SkyWalking 在探针性能方面表现优异，并且探针的性能损耗较低"),i("。")],-1),C=e("h4",{id:"_4-链路统计详细的-pinpoint",tabindex:"-1"},[i("4. 链路统计详细的 Pinpoint "),e("a",{class:"header-anchor",href:"#_4-链路统计详细的-pinpoint","aria-label":'Permalink to "4. 链路统计详细的 Pinpoint"'},"​")],-1),b=e("p",null,[i("Pinpoint 是一个 APM 工具，适用于 Java 、PHP 编写的大型分布式系统进行链路追踪。也就是说，"),e("strong",null,"Go 语言项目不能直接应用 Pinpoint，需要使用代理进行改造"),i("。这里进行简单介绍，因为其链路追踪的分析较为完善。Pinpoint 也是受 Dapper 的启发，通过追踪分布式应用程序之间的调用链，帮助分析分布式系统的整体结构，以及服务和组件相互之间的依赖关系，如下图所示：")],-1),I=e("p",null,"Pinpoint 链路监控页面",-1),J=e("p",null,[e("strong",null,"Pinpoint 的追踪数据粒度非常细，用户界面功能强大，并且服务调用展示做得非常丰富"),i(" ，在这方面它优于市面上大多数组件。Pinpoint 使用 HBase 作为存储带来了海量存储的能力，但丰富的数据背后，必然需要大量的数据采集，因此在这几款常用链路追踪组件中，"),e("strong",null,"Pinpoint 的探针性能最低"),i("，在生产环境需要注意应用服务的采样率，过高的话就会影响系统的吞吐量。")],-1),y=e("p",null,"另外，Pinpoint 目前仅支持 Java 和 PHP 语言，采用字节码增强方式去埋点，所以在埋点时不需要修改业务代码，是非侵入式的，非常适合项目已经完成之后再增加调用链监控的实践场景。Pinpoint 并不支持除 Java、PHP 语言之外的探针，在 Go 语言项目中应用需要基于 Pinpoint 进行二次封装开发。",-1),O=e("h4",{id:"_5-组件的指标对比",tabindex:"-1"},[i("5. 组件的指标对比 "),e("a",{class:"header-anchor",href:"#_5-组件的指标对比","aria-label":'Permalink to "5. 组件的指标对比"'},"​")],-1),W=e("p",null,"上面我们对 4 种当前流行的链路追踪组件进行了简单介绍，相信你已经对每个组件的组成和特性已经有了大概的了解。为便于你更好地理解，下面我们再根据如下的几个指标对它们进行直观的对比。",-1),v=t("",8);function Z(E,f,q,G,N,D){const n=r("Image");return o(),l("div",null,[s,a(n,{alt:"图片1.png",src:"https://s0.lgstatic.com/i/image/M00/62/8C/CgqCHl-SjWKARLMtAACUh0mRaIk002.png"}),i(),_,c,k,h,T,a(n,{alt:"Drawing 1.png",src:"https://s0.lgstatic.com/i/image/M00/5E/80/CgqCHl-Gvg-ACKv9AAHli59gxME260.png"}),i(),d,a(n,{alt:"Drawing 2.png",src:"https://s0.lgstatic.com/i/image/M00/5E/80/CgqCHl-Gvh6AVPPFAABoGNmX9as934.png"}),i(),P,a(n,{alt:"Drawing 3.png",src:"https://s0.lgstatic.com/i/image/M00/5E/80/CgqCHl-GvjaAElw5AAEfQ3MA-FU057.png"}),i(),S,a(n,{alt:"Drawing 4.png",src:"https://s0.lgstatic.com/i/image/M00/5E/75/Ciqc1F-Gvj6AI-5SAAHxKyQQHhk929.png"}),i(),u,a(n,{alt:"Drawing 5.png",src:"https://s0.lgstatic.com/i/image/M00/5E/75/Ciqc1F-GvlOARTWZAANEwHNPMrQ811.png"}),i(),A,m,C,b,a(n,{alt:"Drawing 6.png",src:"https://s0.lgstatic.com/i/image/M00/5E/75/Ciqc1F-GvmSAYLmbAAI33y2CSDk491.png"}),i(),I,J,y,O,W,a(n,{alt:"图片2.png",src:"https://s0.lgstatic.com/i/image/M00/62/81/Ciqc1F-SjXKAKnGuAAGS0Nd0F1o697.png"}),i(),v])}const x=p(g,[["render",Z]]);export{U as __pageData,x as default};
