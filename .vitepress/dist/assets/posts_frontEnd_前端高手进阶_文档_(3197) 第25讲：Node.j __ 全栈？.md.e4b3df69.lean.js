import{_ as e,j as o,o as c,g as t,k as l,h as n,s,Q as p}from"./chunks/framework.b3d8e22e.js";const A=JSON.parse('{"title":"Node.js 源码结构 ","description":"","frontmatter":{},"headers":[],"relativePath":"posts/frontEnd/前端高手进阶_文档/(3197) 第25讲：Node.j == 全栈？.md","filePath":"posts/frontEnd/前端高手进阶_文档/(3197) 第25讲：Node.j == 全栈？.md","lastUpdated":1696417798000}'),i={name:"posts/frontEnd/前端高手进阶_文档/(3197) 第25讲：Node.j == 全栈？.md"},E=s("p",null,"提到 Node.js，相信大部分前端工程师都会想到基于它来开发服务端，只需要掌握 JavaScript 一门语言就可以成为全栈工程师，但其实 Node.js 的意义并不仅于此。",-1),r=s("p",null,"很多高级语言，执行权限都可以触及操作系统，而运行在浏览器端的 JavaScript 则例外，浏览器为其创建的沙箱环境，把前端工程师封闭在一个编程世界的象牙塔里。不过 Node.js 的出现则弥补了这个缺憾，前端工程师也可以触达计算机世界的底层。",-1),_=s("p",null,"所以 Node.js 对于前端工程师的意义不仅在于提供了全栈开发能力，更重要的是为前端工程师打开了一扇通向计算机底层世界的大门。这一课时我们通过分析 Node.js 的实现原理来打开这扇大门。",-1),u=s("h3",{id:"node-js-源码结构",tabindex:"-1"},[n("Node.js 源码结构 "),s("a",{class:"header-anchor",href:"#node-js-源码结构","aria-label":'Permalink to "Node.js 源码结构"'},"​")],-1),d=s("p",null,"Node.js 源码仓库的 /deps 目录下有十几个依赖，其中既有 C 语言编写的模块（如 libuv、V8）也有 JavaScript 语言编写的模块（如 acorn、acorn-plugins），如下图所示。",-1),y=p("",6),h=s("p",null,"libuv 结构图",-1),v=s("br",null,null,-1),g=s("p",null,"我用黄色线框将图中模块分为了两部分，分别代表了两种不同的异步实现方式。",-1),m=s("p",null,[n('左边部分为网络 I/O 模块，在不同平台下有不同的实现机制，Linux 系统下通过 epoll 实现，OSX 和其他 BSD 系统采用 KQueue，SunOS 系统采用 Event ports，Windows 系统采用的是IOCP。由于涉及操作系统底层 API，理解起来比较复杂，这里就不多介绍了，对这些实现机制比较感兴趣的同学可以查阅这篇文章"'),s("a",{href:"https://cloud.tencent.com/developer/article/1373483",target:"_blank",rel:"noreferrer"},"各种 IO 复用模式之 select、poll、epoll、kqueue、iocp 分析"),n('"。')],-1),b=s("p",null,"右边部分包括文件 I/O 模块、DNS 模块和用户代码，通过线程池来实现异步操作。文件 I/O 与网络 I/O 不同，libuv 没有依赖于系统底层的 API，而是在全局线程池中执行阻塞的文件 I/O 操作。",-1),k=s("h3",{id:"libuv-中的事件轮询",tabindex:"-1"},[n("libuv 中的事件轮询 "),s("a",{class:"header-anchor",href:"#libuv-中的事件轮询","aria-label":'Permalink to "libuv 中的事件轮询"'},"​")],-1),f=s("p",null,"下图是 libuv 官网给出的事件轮询工作流程图，我们结合代码来一起分析。",-1),U=p("",46);function q(P,L,I,O,T,w){const a=o("Image");return c(),t("div",null,[E,r,_,u,d,l(a,{alt:"image.png",src:"https://s0.lgstatic.com/i/image/M00/46/40/Ciqc1F9EvvmAC2x9AAAVgzc1Izg188.png"}),n(),y,l(a,{alt:"1.png",src:"https://s0.lgstatic.com/i/image/M00/46/4C/CgqCHl9EvxCAf_yRAAD8dPwXfWE007.png"}),n(),h,v,g,m,b,k,f,l(a,{alt:"image (1).png",src:"https://s0.lgstatic.com/i/image/M00/46/4C/CgqCHl9EvySAMrSYAADR1tJd-r8402.png"}),n(),U])}const N=e(i,[["render",q]]);export{A as __pageData,N as default};
