import{_ as n,j as i,o as h,g as s,k as r,h as e,Q as o,s as a}from"./chunks/framework.4e7d56ce.js";const x=JSON.parse('{"title":"第21讲：为什么需要分库分表，如何实现？","description":"","frontmatter":{},"headers":[],"relativePath":"posts/backEnd/分布式技术原理与实战45讲_文档/(1922) 第21讲：为什么需要分库分表，如何实现？.md","filePath":"posts/backEnd/分布式技术原理与实战45讲_文档/(1922) 第21讲：为什么需要分库分表，如何实现？.md","lastUpdated":1696682708000}'),l={name:"posts/backEnd/分布式技术原理与实战45讲_文档/(1922) 第21讲：为什么需要分库分表，如何实现？.md"},p=o("",19),_=a("p",null,"垂直分库针对的是一个系统中对不同的业务进行拆分，根据业务维度进行数据的分离，剥离为多个数据库。比如电商网站早期，商品数据、会员数据、订单数据都是集中在一个数据库中，随着业务的发展，单库处理能力已成为瓶颈，这个时候就需要进行相关的优化，进行业务维度的拆分，分离出会员数据库、商品数据库和订单数据库等。",-1),c=a("p",null,"垂直分表是针对业务上的字段比较多的大表进行的，一般是把业务宽表中比较独立的字段，或者不常用的字段拆分到单独的数据表中。比如早期的商品表中，可能包含了商品信息、价格、库存等，可以拆分出来价格扩展表、库存扩展表等。",-1),d=a("h4",{id:"水平切分",tabindex:"-1"},[e("水平切分 "),a("a",{class:"header-anchor",href:"#水平切分","aria-label":'Permalink to "水平切分"'},"​")],-1),u=a("p",null,"水平拆分是把相同的表结构分散到不同的数据库和不同的数据表中，避免访问集中的单个数据库或者单张数据表，具体的分库和分表规则，一般是通过业务主键，进行哈希取模操作。",-1),g=a("p",null,"例如，电商业务中的订单信息访问频繁，可以将订单表分散到多个数据库中，实现分库；在每个数据库中，继续进行拆分到多个数据表中，实现分表。路由策略可以使用订单 ID 或者用户 ID，进行取模运算，路由到不同的数据库和数据表中。",-1),b=o("",16);function m(S,q,f,k,T,D){const t=i("Image");return h(),s("div",null,[p,r(t,{alt:"image",src:"https://s0.lgstatic.com/i/image/M00/20/92/Ciqc1F7onEiAcwueAAGIv7uY_54711.png"}),e(),_,c,d,u,g,r(t,{alt:"image",src:"https://s0.lgstatic.com/i/image/M00/20/92/Ciqc1F7onFiABcGeAACJyCWVUhI117.png"}),e(),b])}const A=n(l,[["render",m]]);export{x as __pageData,A as default};
