import{_ as o,j as e,o as t,g as r,k as n,h as a,s,Q as p}from"./chunks/framework.a0d18f64.js";const f=JSON.parse('{"title":"案例串联如何让系统抗住双十一的预约抢购活动？","description":"","frontmatter":{},"headers":[],"relativePath":"posts/backEnd/架构设计面试精讲_文档/(6058) 案例串联  如何让系统抗住双十一的预约抢购活动？.md","filePath":"posts/backEnd/架构设计面试精讲_文档/(6058) 案例串联  如何让系统抗住双十一的预约抢购活动？.md","lastUpdated":1696682708000}'),c={name:"posts/backEnd/架构设计面试精讲_文档/(6058) 案例串联  如何让系统抗住双十一的预约抢购活动？.md"},i=s("h1",{id:"案例串联如何让系统抗住双十一的预约抢购活动",tabindex:"-1"},[a("案例串联如何让系统抗住双十一的预约抢购活动？ "),s("a",{class:"header-anchor",href:"#案例串联如何让系统抗住双十一的预约抢购活动","aria-label":'Permalink to "案例串联如何让系统抗住双十一的预约抢购活动？"'},"​")],-1),_=s("p",null,'到目前为止，我们讨论了很多的面试思路，比如 02 讲中关于架构设计的"四步回答法"，不过大部分内容都是比较独立的知识点（比如分布式事务、分布式锁......）为了让你更深入掌握前几讲内容，把相对独立的知识串联起来，我们今天就来回顾、梳理近期学习的内容，通过"电商预约抢购"的场景，用前几讲内容，做一道完整的架构设计题。',-1),u=s("h3",{id:"案例背景",tabindex:"-1"},[a("案例背景 "),s("a",{class:"header-anchor",href:"#案例背景","aria-label":'Permalink to "案例背景"'},"​")],-1),d=s("p",null,'在大促活动期间，"预约抢购"已经是各大电商平台的主要促销手段，京东自然也会和一些大的供应商合作，推出一些低价的爆款产品，比如 2019 年的 "1499 元抢购飞天茅台"活动，就让很多人每天准时准点拿着手机拼人品。',-1),E=s("p",null,"那这类电商领域的大促抢购场景涉及专栏的哪些内容呢？它们是怎么通过架构设计的方式组合在一起，实现一个完整的需求流程呢？这就是今天要讨论的话题。",-1),g=s("p",null,"我们先把需求梳理一下，总的来说，实现一个抢购系统大概可以分为四个阶段。",-1),y=p("",35),h=s("p",null,"订单支付后操作",-1),q=s("p",null,"不过针对服务的异常（如宕机），会存在请求数据丢失的可能，比如当支付回调系统后，修改订单状态成功了，但是在异步通知积分系统，更新用户累计积分时，订单系统挂掉了，此时 MQ 还没有收到这条消息，那么这条消息数据就无法还原了。",-1),k=s("p",null,"订单支付后操作（异常）",-1),m=s("p",null,'所以你还要考虑"05 | 海量并发场景下，如何回答分布式事务一致性问题？"中，可靠消息投递机制：先做消息的本地存储，再通过异步重试机制，来实现消息的补偿。比如当支付平台回调订单系统，然后在更新状态的同时，插入一个消息，之后再返回第三方支付操作成功的结果。最后，通过数据库中的这条消息，再异步推送其他系统，完成后续的工作。',-1),C=p("",6);function A(F,b,P,R,v,N){const l=e("Image");return t(),r("div",null,[i,_,u,d,E,g,n(l,{alt:"Drawing 0.png",src:"https://s0.lgstatic.com/i/image/M00/8F/E1/Ciqc1GAJU5eAH5_nAAPlPlxEHeY549.png"}),a(),y,n(l,{alt:"已改拉勾_架构面试精讲-20210112(1).png",src:"https://s0.lgstatic.com/i/image2/M01/09/34/CgpVE2AN_qGANrtxAABtOAVpLik784.png"}),a(),h,q,n(l,{alt:"已改拉勾_架构面试精讲-20210112(2).png",src:"https://s0.lgstatic.com/i/image2/M01/09/32/Cip5yGAN_ruAPSKGAACFk7CsEOk016.png"}),a(),k,m,n(l,{alt:"已改拉勾_架构面试精讲-20210112(3).png",src:"https://s0.lgstatic.com/i/image2/M01/09/34/CgpVE2AN_tGABacCAACGq-H_pKs054.png"}),a(),C])}const S=o(c,[["render",A]]);export{f as __pageData,S as default};
