import{_ as o,j as e,o as t,g as c,k as n,Q as l,s as a,h as p}from"./chunks/framework.b3d8e22e.js";const P=JSON.parse('{"title":"Ribbon 负载均衡器 ","description":"","frontmatter":{},"headers":[],"relativePath":"posts/backEnd/SpringCloud Alibaba 实战_文档/(6751) 06  负载均衡：Ribbon 如何保证微服务的高可用.md","filePath":"posts/backEnd/SpringCloud Alibaba 实战_文档/(6751) 06  负载均衡：Ribbon 如何保证微服务的高可用.md","lastUpdated":1696417798000}'),r={name:"posts/backEnd/SpringCloud Alibaba 实战_文档/(6751) 06  负载均衡：Ribbon 如何保证微服务的高可用.md"},E=l("",5),y=a("p",null,[p("负载均衡按实现方式分类可区分为："),a("strong",null,"服务端负载均衡"),p(" 与"),a("strong",null,"客户端负载均衡"),p("。")],-1),i=a("p",null,"服务端负载均衡顾名思义，在架构中会提供专用的负载均衡器，由负载均衡器持有后端节点的信息，服务消费者发来的请求经由专用的负载均衡器分发给服务提供者，进而实现负载均衡的作用。目前常用的负载均衡器软硬件有：F5、Nginx、HaProxy 等。",-1),d=a("p",null,"客户端负载均衡是指，在架构中不再部署额外的负载均衡器，在每个服务消费者内部持有客户端负载均衡器，由内置的负载均衡策略决定向哪个服务提供者发起请求。说到这，我们的主角登场了，Netfilx Ribbon 是 Netflix 公司开源的一个负载均衡组件，是属于客户端负载均衡器。目前Ribbon 已被 Spring Cloud 官方技术生态整合，运行时以 SDK 形式内嵌到每一个微服务实例中，为微服务间通信提供负载均衡与高可用支持。为了更容易理解，我们通过应用场景说明 Ribbon 的执行流程。假设订单服务在查询订单时需要附带对应商品详情，这就意味着订单服务依赖于商品服务，两者必然产生服务间通信，此时 Ribbon 的执行过程如下图所示：",-1),g=l("",8),A=l("",8),v=a("p",null,"在 provider-service 工程中利用 maven package 命令生成 provider-service-0.0.1-SNAPSHOT.jar。",-1),u=l("",3),F=l("",2),D=a("p",null,"到这里，第一阶段开发服务提供者 provider-service 告一段落。",-1),m=a("p",null,[a("strong",null,"第二阶段"),p("，开发服务消费者 consumer-service，服务消费者说白了就是服务的使用方，我们需要在服务消费者内置 Ribbon+RestTemplate 实现服务间高可用通信。")],-1),b=a("p",null,"第一步，利用 Spring Initializr 创建 consumer-service微服务。",-1),h=l("",10),C=l("",12),B=l("",27),_=l("",9);function f(R,T,I,S,k,q){const s=e("Image");return t(),c("div",null,[E,n(s,{alt:"图片1.png",src:"https://s0.lgstatic.com/i/image6/M01/19/1E/CioPOWBJwsuATx9NAAG5-vZf3ac538.png"}),y,i,n(s,{alt:"图片2.png",src:"https://s0.lgstatic.com/i/image6/M01/19/21/Cgp9HWBJwtuAQzndAAESYZX7dBg295.png"}),d,n(s,{alt:"图片3.png",src:"https://s0.lgstatic.com/i/image6/M01/19/21/Cgp9HWBJwuWAHSngAAF5Aq9Kc40749.png"}),g,n(s,{alt:"图片4.png",src:"https://s0.lgstatic.com/i/image6/M01/19/1E/CioPOWBJwvSAG8EXAAF2iTbEk7Q110.png"}),A,n(s,{alt:"图片5.png",src:"https://s0.lgstatic.com/i/image6/M01/19/21/Cgp9HWBJwwCAWQTEAAGYqp_ImI0708.png"}),v,n(s,{alt:"图片6.png",src:"https://s0.lgstatic.com/i/image6/M01/19/1E/CioPOWBJww2AQjzgAAPudFa5w-0816.png"}),u,n(s,{alt:"图片7.png",src:"https://s0.lgstatic.com/i/image6/M01/19/21/Cgp9HWBJwxuAcxOcAAH-s7vW8jY536.png"}),F,n(s,{alt:"图片8.png",src:"https://s0.lgstatic.com/i/image6/M00/19/1E/CioPOWBJw2uAAYFIAAC7fTlBxfE550.png"}),D,m,b,n(s,{alt:"图片9.png",src:"https://s0.lgstatic.com/i/image6/M00/19/1E/CioPOWBJw12AWGgvAAPhdgyUzII247.png"}),h,n(s,{alt:"图片10.png",src:"https://s0.lgstatic.com/i/image6/M00/19/22/Cgp9HWBJw32AP6Q-AAISw1hZuVw034.png"}),C,n(s,{alt:"图片11.png",src:"https://s0.lgstatic.com/i/image6/M00/19/22/Cgp9HWBJw5GAfy0KAAF_d0YMb9M817.png"}),B,n(s,{alt:"图片12.png",src:"https://s0.lgstatic.com/i/image6/M00/19/1E/CioPOWBJw6SAKOB6AAXujVzqsIs554.png"}),_])}const j=o(r,[["render",f]]);export{P as __pageData,j as default};
