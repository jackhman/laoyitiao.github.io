import{_ as t,j as _,o as p,g as n,k as r,h as s,Q as a,s as e}from"./chunks/framework.cfb14fe0.js";const L=JSON.parse('{"title":"01前因后果：Serverle架构兴起的必然因素是什么？","description":"","frontmatter":{},"headers":[],"relativePath":"posts/backEnd/玩转 Serverless 架构_文档/(6029) 01  前因后果：Serverle 架构兴起的必然因素是什么？.md","filePath":"posts/backEnd/玩转 Serverless 架构_文档/(6029) 01  前因后果：Serverle 架构兴起的必然因素是什么？.md","lastUpdated":1696682708000}'),o={name:"posts/backEnd/玩转 Serverless 架构_文档/(6029) 01  前因后果：Serverle 架构兴起的必然因素是什么？.md"},i=a("",7),S=a("",5),c=e("p",null,"物理机时代网站部署架构",-1),h=e("p",null,"但是网站上线之后，你将会遇到各种各样的问题，一旦停电，就会导致网络中断，服务器也会停机，那网站就没办法访问了，用户不能再买买买。于是为了避免断电、断网，你大概率会选择把服务器托管到电信机房，那里停电的概率低很多，但是每个月得多付一些租金。",-1),d=e("p",null,"可是没想到半年后，问题又出现了，服务器 CPU 烧毁了！这不是简单换一台服务器就能解决的事情，原来服务器上的数据如何迁移？新的环境如何与原来保持一致？怎么保证网站持续可用，各种问题接连而至......",-1),g=e("p",null,[s("总的来说，物理机时代，网站上线和稳定运行面临的最大问题就是服务器等硬件问题，你既要购买服务器，还要承担服务器的场地、电力、网络等开销，并且还需负责服务器的维护。"),e("strong",null,"好在随后几年随着虚拟化技术逐渐成熟，云计算逐渐进入虚拟机时代，这也给我们带来了希望。")],-1),u=e("h3",{id:"虚拟机时代",tabindex:"-1"},[s("虚拟机时代 "),e("a",{class:"header-anchor",href:"#虚拟机时代","aria-label":'Permalink to "虚拟机时代"'},"​")],-1),v=e("p",null,"虚拟机时代发展历程",-1),A=e("p",null,"上图是虚拟机发展历程中的重要节点。其中一个重要里程碑之一就是 2001 年 VMWare 带来的针对 x86 服务器的虚拟化产品，使虚拟化技术逐渐普及。对云厂商来说，通过虚拟化技术，它可以把一台物理机分割成多台虚拟机提供给多用户使用，充分利用硬件资源，而且创建速度和弹性也远超物理机。对于开发者来说，就不用再买硬件了，直接在云平台买虚拟机，成本更低了。",-1),m=e("p",null,[e("strong",null,"2001 年之后，虚拟化技术日渐成熟，"),s(" 因此也出现了很多基于虚拟化的云厂商和产品（开篇我也提到了）。最初云厂商都是卖硬件，AWS 的 EC2、阿里云 ECS、Azure Virtual Machines，这种云计算形态也被叫作 IaaS（基础设施即服务）。后面随着业务形态发展，云厂商发现可以抽象出一些通用的平台，比如中间件、数据库等，于是就把这些功能做成服务，也放在云上去卖，这就是 PaaS（平台即服务）。")],-1),T=e("p",null,[e("strong",null,"那有了 IaaS 之后，你就可以把电商网站迁移到虚拟机上了，"),s(" 再也不用担心断电断网和硬件故障。不过，当你的电商网站越做越强，用户越来越多，数据库每天都有几千万条数据写入，数据库性能很快就会达到瓶颈，就会出现用户因付款太慢放弃付款的情况；除此之外，每天也有上百万图片存到磁盘，磁盘也快要耗尽了。如果网站出现崩溃，就直接导致用户流失，甚至资损。")],-1),P=e("p",null,"好在作为专业的技术人员，我们已经对云计算了如指掌，为了避免这些问题，基于 IaaS 和 PaaS 重新设计了网站架构：",-1),C=a("",7),b=a("",5),E=e("p",null,"容器时代网站部署架构",-1),k=e("p",null,"你不仅使用了容器，你还使用了 Kubernetes 来做管理容器集群。基于 Kubernetes 和云厂商提供的弹性能力，你可以实现网站的自动弹性伸缩。这样在流量洪峰到来时，就可以自动弹出更多的资源；当流量低谷时，自动释放多余的资源。",-1),V=e("p",null,[s("想到这儿，你多多少少有些兴奋，但时间一久，问题也随之出现。因为你需要去规划节点和 Pod 的 CPU、内存、磁盘等资源，需要编写复杂的 YAML 去部署 Pod、服务，需要经常排查 Pod 出现的异常，需要学习专业的运维知识，"),e("strong",null,"渐渐地，你好像变成了 Kubernetes 运维工程师，"),s(" 如果能完全不关心运维，只专注于产品的开发就好了，这样能节省很多时间，以更快的速度完成产品迭代上线。")],-1),I=e("p",null,[s("而且你也没想到，由于提前准备不够充分，双十一来的时候，零点的订单量远超预期，网站又崩了！集群虽然感知到了需要弹出更多的资源，但由于服务器弹出需要一定时间，没来得及应对这种瞬时流量，要是能够支持秒级弹性就好了。"),e("strong",null,"于是，Serverless 时代来临了。")],-1),F=e("h3",{id:"serverless-时代",tabindex:"-1"},[s("Serverless 时代 "),e("a",{class:"header-anchor",href:"#serverless-时代","aria-label":'Permalink to "Serverless 时代"'},"​")],-1),q=e("p",null,"Serverless 时代发展历程",-1),f=e("p",null,"在我看来，Serverless 是指构建和运行不需要服务器管理的一种概念。前面三种电商网站部署的方式，都属于 Serverful 的架构，它就像使用低级的汇编语言编程。而 Serverless 的架构就像使用 Python 这样的高级语言进行编程。比如 c = a + b 这样简单的表达式，如果用汇编描述，就必须先选择几个寄存器，把值加载到寄存器，进行数学计算，再存储结果。这就好比今天在 Serverful 的架构下，开发首先需要分配或找到可用的资源，然后加载代码和数据，再执行计算，将计算的结果存储起来，最后还需要管理资源的释放。",-1),M=e("p",null,"对于 Serverless，目前我们得到的还是一个比较抽象的概念，这是因为这项技术尚处于发展阶段。现阶段关于 Serverless 的实现主要是基于 FaaS（函数即服务） 和 BaaS （后端即服务）的方案。",-1),x=e("ul",null,[e("li",null,[e("p",null,"FaaS 提供了运行函数代码的能力，并且具有自动弹性伸缩。基于 FaaS，我们应用的组成就不再是集众多功能于一身的集合体，而是一个个独立的函数。每个函数实现各自的业务逻辑，由这些函数组成复杂的应用。")]),e("li",null,[e("p",null,"BaaS 是将后端能力封装成了服务，并以接口的形式提供服务。比如数据库、文件存储等。通过 BaaS 平台的接口，我们运行在 FaaS 中的函数就能调用各种后端服务，进而以更低开发成本实现复杂的业务逻辑。")])],-1),N=e("p",null,[s("基于 Serverless，"),e("strong",null,"我们的电商网站部署架构就演变为了下面这样：")],-1),K=a("",7),B=e("p",null,"另外，我希望你学完今天的内容可以对云计算的发展历史有了初步的了解，对 Serverless 架构的兴起过程也有初步的认识。",-1),U=e("p",null,"今天的作业是希望你能在课下做功课，总结一下，IaaS、PaaS、SaaS、FaaS、BaaS 它们到底是什么，有什么区别？这会帮你更好地理解今天的内容，欢迎在留言区与我互动。当然了，我今天只是简单地提了一下 Serverless 是什么，还未对它的概念展开来讲解，下一节课，我会深入剖析Serverless的含义，我们下节课见。",-1);function D(R,W,Y,y,$,w){const l=_("Image");return p(),n("div",null,[i,r(l,{alt:"图片1.png",src:"https://s0.lgstatic.com/i/image2/M01/03/E8/CgpVE1_kTlqASiEcAAFnAFtU2HU531.png"}),s(),S,r(l,{alt:"图片2.png",src:"https://s0.lgstatic.com/i/image2/M01/03/E7/Cip5yF_kTmqAaWsbAAso8KYY52c713.png"}),s(),c,h,d,g,u,r(l,{alt:"图片3.png",src:"https://s0.lgstatic.com/i/image2/M01/03/E8/CgpVE1_kTnSAKGKvAAH0WbMrVNg381.png"}),s(),v,A,m,T,P,r(l,{alt:"图片4.png",src:"https://s0.lgstatic.com/i/image2/M01/03/E8/CgpVE1_kTn2AeXnYABSdMxS0Ddo391.png"}),s(),C,r(l,{alt:"图片5.png",src:"https://s0.lgstatic.com/i/image2/M01/03/E8/CgpVE1_kToWARsK1AAF3_oNUZVE232.png"}),s(),b,r(l,{alt:"图片6.png",src:"https://s0.lgstatic.com/i/image2/M01/03/E7/Cip5yF_kTo2ASrz9AAi8F5WTUZQ237.png"}),s(),E,k,V,I,F,r(l,{alt:"图片7.png",src:"https://s0.lgstatic.com/i/image2/M01/03/E8/CgpVE1_kTpSAK_EgAAD8YeiJPZk736.png"}),s(),q,f,M,x,N,r(l,{alt:"图片8.png",src:"https://s0.lgstatic.com/i/image2/M01/03/E7/Cip5yF_kTp2AOUW_ABVeKCaUwYU699.png"}),s(),K,r(l,{alt:"Lark20201224-184403.png",src:"https://s0.lgstatic.com/i/image/M00/8C/12/CgqCHl_kcRCAcyqiAAFbdq9wbQM393.png"}),s(),B,U])}const O=t(o,[["render",D]]);export{L as __pageData,O as default};
