import{_ as i,D as l,o as n,g as r,J as o,h as a,Q as s,m as t}from"./chunks/framework.f67d7268.js";const v=JSON.parse('{"title":"第45讲：测试右移：在线测试与日志分析","description":"","frontmatter":{},"headers":[],"relativePath":"posts/devops/112-高效敏捷测试文档/(1630) 第45讲：测试右移：在线测试与日志分析.md","filePath":"posts/devops/112-高效敏捷测试文档/(1630) 第45讲：测试右移：在线测试与日志分析.md","lastUpdated":1696682708000}'),_={name:"posts/devops/112-高效敏捷测试文档/(1630) 第45讲：测试右移：在线测试与日志分析.md"},p=s("",8),c=t("p",null,[a("图1 混沌实验概貌（源自："),t("a",{href:"https://github.com/chaosblade-io/",target:"_blank",rel:"noreferrer"},"https://github.com/chaosblade-io/"),a("）")],-1),h=t("h3",{id:"在线性能测试",tabindex:"-1"},[a("在线性能测试 "),t("a",{class:"header-anchor",href:"#在线性能测试","aria-label":'Permalink to "在线性能测试"'},"​")],-1),d=t("p",null,"软件系统经过了研发过程中的性能测试，在研发环境中满足了性能需求。但是，庞大的用户群体、跨地区/跨国家的用户访问、数以万计的移动端设备种类和型号等生产环境中的真实场景，在研发环境中不可能全面覆盖。在线性能测试是指借助监控工具，监控系统性能的实际数据，因为是真实数据，比研发环境中通过工具产生负载得到的测试结果更客观，更有分析价值。",-1),g=t("p",null,"另外，对于规模较小的互联网公司，一个新产品上线时用户比较少，对于性能的要求不会太高，一般情况下用户数量是逐渐增加的。在研发环境中做完整的性能测试费钱又费时，可以考虑在系统上线后进行性能测试------在线性能监控，发现性能瓶颈、内存泄露等问题，实现持续测试、持续调优。这样不仅可以让公司节省一大笔开支，也赢得了快速发布的时间。",-1),A=t("p",null,"图2 在线性能监控流程",-1),u=t("p",null,"在线性能监控系统需要监控的点很多，包括前端、应用服务器、中间件、Web 服务器、队列、缓存、数据库、网络等。要监控的性能指标也很多，比如用户关心的页面加载时间、用户输入响应时间，业务角度需要关心的系统吞吐量、并发用户数，技术角度需要关心的内存、CPU 使用情况等。对于微服务架构的分布式软件系统，还需要通过追踪微服务调用链分析并定位链路上的性能瓶颈。",-1),m=t("p",null,"前面提到过的在线性能监控工具包括： AppDynamics、Datadog、DynaTrace、New Relic、CollectD、StatsD 等。还有分布式系统的链路及性能监控工具 SkyWalking、PinPoint 等。",-1),B=t("h3",{id:"在线安全监控",tabindex:"-1"},[a("在线安全监控 "),t("a",{class:"header-anchor",href:"#在线安全监控","aria-label":'Permalink to "在线安全监控"'},"​")],-1),T=t("p",null,"在研发阶段可以完成代码的静态分析、安全性功能验证、渗透测试等。产品上线后，通过监控、检查发现系统的安全性漏洞并及时修正也是一项重要的工作，这样的工作可以看作是系统安全性的在线测试。就是为了保障软件系统操作的合规性和数据的安全性，运用各种技术手段实时收集软件系统运行过程中的状态、数据的危险变更、用户操作活动等信息，以便集中记录、分析和报警。",-1),b=t("p",null,"实现在线安全监控需要建立一套相对完整的运维安全监控与审计框架，如图 3 所示，具备监控、审计、预防、恢复和支撑等功能。",-1),f=s("",7),q=t("p",null,"图4 购物车的 A/B 测试案例",-1),P=t("p",null,"更为典型的 A/B 测试往往只发布一个新版本 B 和老版本 A 进行比较。亚马逊也针对购物车做过大量的 A/B 测试；Google 也会做很多 A/B 测试，在 Google 的搜索页面，广告位左移几个像素，都很有可能会带来营收增长。虽然不能用理论解释，但也更加证实了 A/B 测试的价值。只有 A/B 测试才能告诉我们，产品新功能上线后究竟会有怎样的影响，并且用事实帮助人们做出正确的决定。",-1),C=t("p",null,"要做好A/B 测试，需要考虑随机流量的选择以及好的统计工具以保证试验结果的准确性。相比企业自己实施 A/B 测试，可以考虑使用第三方的 A/B 测试服务，将不同的方案通过第三方平台发布给用户，然后自由调整试验流量，根据数据反馈分析方案的好坏。",-1),I=t("p",null,"A/B 测试是一个持续的实验过程------快速轻量的进行迭代，每次尽量不要做复杂的大量改动的测试，这样便于追查原因，进行快速优化，然后再迭代、再优化，不断提高用户体验，不断增加公司的盈利。",-1),S=t("h3",{id:"流量回放技术",tabindex:"-1"},[a("流量回放技术 "),t("a",{class:"header-anchor",href:"#流量回放技术","aria-label":'Permalink to "流量回放技术"'},"​")],-1),k=t("p",null,"流量回放技术是指对线上真实流量数据导入到测试环境中，并借助特定技术进行回放，用来验证新开发的功能是否有问题。 在第 17 讲（下）我曾经介绍过影子测试，即采用了流量回放技术，具体过程如图 5 所示。核心业务的升级改造必须确保万无一失，因此利用真实的线上流量在测试环境中先进行验证再发布到生产环境中是比较稳妥的方式。另外，流量回放还可以用于在测试环境中对系统进行压力测试。GoReplay 是具有流量回放功能的开源工具。",-1),D=s("",16);function x(F,N,V,E,y,Y){const e=l("Image");return n(),r("div",null,[p,o(e,{alt:"image1.png",src:"https://s0.lgstatic.com/i/image/M00/18/89/CgqCHl7YuZyALEzwAAaKhCFB9GU062.png"}),a(),c,h,d,g,o(e,{alt:"image2.png",src:"https://s0.lgstatic.com/i/image/M00/18/89/CgqCHl7YuaWAWJYLAABh3ufIELk803.png"}),a(),A,u,m,B,T,b,o(e,{alt:"image3.png",src:"https://s0.lgstatic.com/i/image/M00/18/89/CgqCHl7YubCAYmFqAAIMp3ffAU8204.png"}),a(),f,o(e,{alt:"image4.png",src:"https://s0.lgstatic.com/i/image/M00/18/7D/Ciqc1F7YubyAYZKGAAIC7eOSiVo236.png"}),a(),q,P,C,I,S,k,o(e,{alt:"image5.png",src:"https://s0.lgstatic.com/i/image/M00/18/7D/Ciqc1F7YuceAPZ8AAAJBUgwHqEI400.png"}),a(),D])}const G=i(_,[["render",x]]);export{v as __pageData,G as default};
