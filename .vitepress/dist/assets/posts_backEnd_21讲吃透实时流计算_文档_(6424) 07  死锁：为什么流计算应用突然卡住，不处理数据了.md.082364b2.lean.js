import{_ as l,j as t,o as e,g as c,k as o,h as a,Q as p,s}from"./chunks/framework.cfb14fe0.js";const S=JSON.parse('{"title":"07死锁：为什么流计算应用突然卡住，不处理数据了","description":"","frontmatter":{},"headers":[],"relativePath":"posts/backEnd/21讲吃透实时流计算_文档/(6424) 07  死锁：为什么流计算应用突然卡住，不处理数据了.md","filePath":"posts/backEnd/21讲吃透实时流计算_文档/(6424) 07  死锁：为什么流计算应用突然卡住，不处理数据了.md","lastUpdated":1696682708000}'),r={name:"posts/backEnd/21讲吃透实时流计算_文档/(6424) 07  死锁：为什么流计算应用突然卡住，不处理数据了.md"},E=p("",8),y=p("",8),i=p("",10),u=s("p",null,'在图 3 中，整个流计算过程有 A 和 B 这两个步骤，并且具备"反向压力"能力。这时候，如果 A 的输出已经将 B 的输入队列占满，而 B 的输出又需要重新流向 B 的输入队列，那么由于"反向压力"的存在，B 会一直等到其输入队列有空间可用。而 B 的输入队列又因为 B 在等待，永远也不会有空间被释放，所以 B 会一直等待下去。同时，A 也会因为 B 的输入队列已满，由于反向压力的存在，它也只能不停地等待下去。',-1),A=s("p",null,'如此一来，整个流计算过程就形成了一个死锁，A 和 B 两个步骤都会永远等待下去，这样就出现了我们前边看到的程序"卡"住现象。',-1),_=s("h3",{id:"形成-环-的原因",tabindex:"-1"},[a('形成"环"的原因 '),s("a",{class:"header-anchor",href:"#形成-环-的原因","aria-label":'Permalink to "形成"环"的原因"'},"​")],-1),F=s("p",null,'在图 2 所示的 DAG 中，我们是因为需要让 stepB 失败重试，所以"随手"就让 stepB 将其输出重新作为输入重新执行一次。这姑且算是一种比较特殊的需求吧。',-1),h=s("p",null,'但在实际开发过程中，我们的业务逻辑明显是可以分为多个依次执行的步骤，用 DAG 画出来时，也是"无环"的。但在写代码时，有时候一不小心，也会无意识地将一个本来无环的 DAG，实现成了有环的过程。下面图 4 就说明了这种情况。',-1),m=p("",16),q=s("p",null,[s("a",{href:"https://github.com/alain898/realtime_stream_computing_course",target:"_blank",rel:"noreferrer"},"点击此链接查看本课程所有课时的源码")],-1),B=s("hr",null,null,-1),d=s("p",null,"[",-1),C=s("p",null,[a("]("),s("a",{href:"https://kaiwu.lagou.com/data_enhancement.html?utm_source=lagouedu&utm_medium=zhuanlan&utm_campaign=%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%BC%80%E5%8F%91%E9%AB%98%E8%96%AA%E8%AE%AD%E7%BB%83%E8%90%A5#/index",target:"_blank",rel:"noreferrer"},"https://kaiwu.lagou.com/data_enhancement.html?utm_source=lagouedu&utm_medium=zhuanlan&utm_campaign=大数据开发高薪训练营#/index"),a(")"),s("br"),s("a",{href:"https://kaiwu.lagou.com/data_enhancement.html?utm_source=lagouedu&utm_medium=zhuanlan&utm_campaign=%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%BC%80%E5%8F%91%E9%AB%98%E8%96%AA%E8%AE%AD%E7%BB%83%E8%90%A5#/index",target:"_blank",rel:"noreferrer"},"PB 级企业大数据项目实战 + 拉勾硬核内推，5 个月全面掌握大数据核心技能。点击链接，全面赋能！")],-1);function g(D,x,b,k,f,T){const n=t("Image");return e(),c("div",null,[E,o(n,{alt:"image (2).png",src:"https://s0.lgstatic.com/i/image6/M00/03/B1/Cgp9HWAfi2KATSaEAAE2mmZy--s849.png"}),a(),y,o(n,{alt:"image (3).png",src:"https://s0.lgstatic.com/i/image6/M00/03/AF/CioPOWAfi2yAJoUSAAEjy8tdsAA410.png"}),a(),i,o(n,{alt:"image (4).png",src:"https://s0.lgstatic.com/i/image6/M00/03/AF/CioPOWAfi3WAaLyaAAH5vr_30vk488.png"}),a(),u,A,_,F,h,o(n,{alt:"image (5).png",src:"https://s0.lgstatic.com/i/image6/M00/03/AF/CioPOWAfi32AX5a1AAL9Aqk2D9Y454.png"}),a(),m,o(n,{alt:"Drawing 4.png",src:"https://s0.lgstatic.com/i/image2/M01/0C/91/Cip5yGAY-4CAZ6B8AAiqciZrqLg086.png"}),a(),q,B,d,o(n,{alt:"image (3).png",src:"https://s0.lgstatic.com/i/image2/M01/0C/98/CgpVE2AZCKKAa8TbAAUCrlmIuEw611.png"}),a(),C])}const P=l(r,[["render",g]]);export{S as __pageData,P as default};
